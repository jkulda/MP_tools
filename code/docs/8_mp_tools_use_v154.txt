MP_TOOLS: FIRST STEPS


1/ PREPARING TO USE MP_TOOLS

Copy the EXAMPLES subdirectory to a convenient place in your working space. 
Using any of its specific subdirectories as a template, create your own project directory, 
go there and create the ./DATA subdirectory, something like
	>mkdir my_project
	>cd ./my_project
	>mkdir data

Move the ACCII input (MD dump files and/or trajectory files) of your project there
	>mv /volumes/whats_ever_somewhere/hist_200.txt ./data
or just make a link and place it into ./data
	>link /volumes/whats_ever/hist_200.txt ./data/hist_200.txt

It is a good idea to follow a convention that gives an intuitive name to all what follows,
eg. BZO200s for a BZO (BaZrO3) short sequence at 200K 
	>mv ./data/hist_200.txt ./data/PMN200s_200.txt
use the upper and lower case according to your system conventiontions and to your convenience,  on many systems all the MP_TOOLS input specifications will be case-insensitive.

In your project directory create a <your_project>.par file (use the same name as above, 
i.e. BZO200s.par, for convenience, but not obligatorily). This file will contain info about your substance and option settings for some of the MP_TOOLS programs. Use the file BZO200e.par as a template.

The namelist names like '&mp_bin', '&mp_pdf' etc. as well as the names of the variables are in fact FORTRAN identifiers - do not touch them! Each name list has to be terminated by a slash (/). When editing the contents mind to use spaces rather than tabs. Empty lines as well as any text beyond a 1st exclammation mark on a line is a comment, ignored in input. You cannot add anything to the name lists unless modifying the code itself, on the other hand non-relevant items may be omitted from the lists.


2/ USING MP_TOOLS

Each routine offers a more-or-less intuitive command line dialog (cf. more detailed 
descriptions under mp_tools_code/docs

A/ Convert the input ASCII file data (DL_POLY, LAMMPS, DISCUS etc.) into binary format 
	(as a first, obligatory step) 

  Use the MP_DBIN (DL_POLY) or MP_LBIN (LAMMPS, GENERAL) tools to generate the
	binary direct access files to be used in subsequent work; each of the files will start 
	by a header record containing all the info from history file header (atom names, masses, 
	lattice parameters etc.), the binary files will be stored in ./DATA again; 
	if pertinent, the programs determine real temperature from the kinetic energies of individual velocity components (separately for cores and shells) and refine corrections to the lattice parameters originally deduced from the supercell dimensions; a detailed output is produced for the first snapshot in the series automatically and can be extended to all of them by setting a switch in the .PAR file
	
	For series of snapshots the binary file names consist of a 'master' (a character chain 
	specified in the MP_BIN dialogue) followed by '_n' and a four digit number (BZN200_n0001.dat); the other tools ask then for this information in their input dialogues.
	 		  
  
B/ Inspect the contents of the binary data files 

  MP_INSP prints the contents the header record of a binary data file and displays the
  information on individual atoms identified by their supercell indices. 
  		

C/ Visualise scattering functions and extract other related properties 

  MP_PDF accumulates and plots pair distribution functions (PDF) in direct space by Monte-
	Carlo sampling; OpenMP parallelisation is available if computation speed is of importance; for high accuracy and 100% reproducibility the single process option should be checked

  MP_DOS calculates and plots the vibrational density of states; atom weights can be chosen between uniform (1.) and neutron (b_coh, read from the .PAR file) with the 
	possibility to mask out any atom type

  MP_SQOM calculates and plots total, elastic and inelastic diffuse scattering intensity 
	maps over planes in reciprocal space as well as E(Q) cuts (dispersion-like) with  
	the possibility to save both tables of intensities in ASCII format (.txt) and the graphical output in the PS or PNG format; the use of non-uniform fast Fourier transform (NUFFT) to pass from the direct to the reciprocal (momentum) space brings the usual computing time gain of â‰ˆ NlogN against the N^2 scale for normal FT, which can reach many orders of magnitude for large systems; in addition the use of OpenMP parallelisation can be activated and is recommended in general (no reproducibility issues to be expected)  		

 
3/ EXAMPLES

The examples in this directory cover the two available ASCII data input methods, CELL and BULK, and take as examples data generated by DL_POLY, LAMMPS and FERODO (phasefield simulation package). 

To keep the distribution size reasonable, the data sets extend only over a single or a few snapshots, permitting to test the basic functions of MP_TOOLS: conversion to binary format, inspection of the binary data, plots of total scattering intensities and generation of a PDF. The energy-resolved functionalities calling for sequences of hundreds to thousands snapshots (10-100 Gb) need to be tried in 'real life' circumstances.

The text files like lammps_cu_48.txt containing command line session logs, included in each case, give an idea of what could be a brief tutorial session and give also the possibility to cross-check the details of data file structure. The included .PAR files can be used as templates for own projects.
